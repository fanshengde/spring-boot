<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
<title>Insert title here</title>
<script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css"></link>
<title>add user</title>
</head>
<body>
	
	<form id="formDemo" class="form-horizontal" role="form" action="#" th:action="@{/data/jdbc/author}" th:object="${obj}" method="post">
		<div class="form-group">
			<label for="id" class="col-sm-2 control-label">id</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" id="userid" 
					   placeholder="请输入id" th:field="*{id}" ></input>
			</div>
		</div>
		<div class="form-group">
			<label for="realName" class="col-sm-2 control-label">姓名</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" id="realname" 
					   placeholder="请输入姓名" th:field="*{realName}" ></input>
			</div>
		</div>
		<div class="form-group">
			<label for="nickName" class="col-sm-2 control-label">别名</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" id="nickname" 
					   placeholder="请输入别名" th:field="*{nickName}" ></input>
			</div>
		</div>
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
<!-- 				<button type="submit" class="btn btn-default">登录</button> -->
				<a id="btn btn-default" onclick="ajaxDemo()">submit</a>
			</div>
		</div>
	</form>
	
	
	<script type="text/javascript">
		function ajaxDemo(){
			var data = formProcess("#formDemo");
			ajaxPost("/data/jdbc/author",data);
		}
		
		function formProcess(formId){
			var formData = $(formId).serializeArray()
			return  JSON.stringify(formData);
		}
		
		function ajaxPost(url,data){
			$.ajax({
				type:"POST",
				url:url,
				data:data,
				dataType:"json",
				contentType:"application/json",
				success:function(){
					alert('保存成功')
				},
				error:function(){
					alert("保存失败" + data)
				}
			});	
		}
		
	</script>
</body>
</html>